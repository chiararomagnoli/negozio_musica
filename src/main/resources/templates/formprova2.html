<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title th:text="'Lista Strumenti'"></title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	<body>
		<div class="container-fluid">
			<div>
				<a th:href="@{/}" th:text="'Home Page'"></a>
			</div>	
			<div class="row mt-4">
				<div class="col-12 text-center">
					<h4 th:text="'Lista Strumenti'"></h4>
				</div>
			</div>
			<div class="row mt-4">
				<div class="col-7">
					<table class="table table-striped table-responsive">
						<thead>
							<tr>
								<th th:text="'Nome'"></th>
								<th th:text="'Immagine'"></th>
								<th th:text="'Prezzo'"></th>
								<th th:text="'DisponibilitÃ '"></th>
								<th th:text="'Dettaglio'"></th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="p : ${prodotti}">
								<td th:text="${p.nomeProdotto}"></td>
								<td ><img th:src="@{'/images/'+${p.idProdotto}+'.png'}" height="100px"></td>
								<td th:text="'Euro ' + ${#numbers.formatDecimal(p.prezzo,0,'POINT',2,'COMMA')}"></td>
								<td th:text="${p.disponibilita}"></td>
								<td><a th:href="@{/dettaglio(id=${p.idProdotto})}">Link</a></td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="col-1"></div>
				<div class="col-4">
					<form th:action="@{/form/cerca}" method="get">
						<div class="row">
							<div class="col-6">
								<label for="marca" th:text="'Seleziona Marca:'"></label>
								<select id="marca" name="marca" class="form-select">
									<option value="">-- Seleziona una marca --</option>
									<!--th:selected="${prodotto.marca != null AND m.idMarca == prodotto.marca.idMarca}"-->
									<option th:each="m : ${marche}" th:value="${m.idMarca}" th:text="${m.nomeMarca}">
									</option>
								</select>
							</div>
						</div>

							<div class="col-6">
							<label for="categoria" th:text="'Seleziona Categoria:'"></label>
								<select id="categoria" name="categoria" class="form-select">
									<option value="">-- Seleziona una categoria --</option>
									<option th:each="c : ${categorie}" th:value="${c.idCategoria}" th:text="${c.nomeCategoria}">
									</option>
								</select>
							</div>
						</div>
						<div class="col-6">
							<label for="sottocategoria" th:text="'Seleziona Sottocategoria:'"></label>
								<select id="sottocategoria" name="sottocategoria" class="form-select">
									<option value="">-- Seleziona una sottocategoria --</option>
									<option th:each="s : ${sottocategorie}" th:value="${s.idSottocategoria}" th:text="${s.nomeSottocategoria}">
									</option>
								</select>
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-12">
								<label th:text="'Condizione strumenti:'"></label>
								<div class="form-check">
									<input type="radio" name="condizione" th:value="nuovo" 
										class="form-check-input">
									<label class="form-check-label" th:text="Nuovo"></label>
								</div>
								<div class="form-check">
									<input type="radio" name="condizione" th:value="usato" 
										class="form-check-input">
									<label class="form-check-label" th:text="Usato"></label>
								</div>
							</div>
						</div>
						<div class="row mt-4">
							<div class="col-12 text-center">
								<input type="submit" th:value="'Cerca'" class="btn btn-primary">
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>